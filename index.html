<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Christbahndl Speise- und Getr√§nkekarte</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .container {
      display: flex;
      flex-direction: row;
    }

    .menu {
      flex: 2;
      padding-right: 33.33%;
      /* 1/3 of the container's width */
    }

    .menu-section {
      display: flex;
      flex-wrap: wrap;
      justify-content: start;
    }

    .total {
      position: fixed;
      top: 0;
      right: 0;
      width: 33.33%;
      height: 100%;
      overflow: hidden;
      background: rgba(224, 255, 255, 0.466);
    }

    .total-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #totalPrice {
      font-size: 24px;
      font-weight: bold;
    }

    .fixed-total {
      z-index: 1;
    }

    .scrollable-items {
      overflow-y: auto;
      height: calc(100% - 160px);
      /* Adjust this value */
    }

    .button {
      flex: 1;
      padding: 10px;
      margin: 5px;
      text-align: center;
      font-size: 16px;
    }

    .selected-item {
      display: flex;
      justify-content: space-between;
      margin: 5px;
      padding: 5px;
      border: 1px solid #ccc;
      cursor: pointer;
    }

    .reset-button {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>

<body>

  <div class="container">
    <div class="menu">
      <h2>Getr√§nke</h2>
      <div class="menu-section">
        <button class="button" data-name="Gl√ºhwein" data-price="4.00">Gl√ºhwein ‚Ç¨4,00</button>
        <button class="button" data-name="Orangenpunsch" data-price="4.00">Orangenpunsch ‚Ç¨4,00</button>
        <button class="button" data-name="Apfelgl√ºhmix" data-price="3.50">Apfelgl√ºhmix ‚Ç¨3,50</button>
        <button class="button" data-name="+ Rum" data-price="0.50">+ Rum ‚Ç¨0,50</button>
        <button class="button" data-name="Kaffee kl" data-price="1.50">Kaffee kl ‚Ç¨1,50</button>
        <button class="button" data-name="Kaffee gr" data-price="2.50">Kaffee gr ‚Ç¨2,50</button>
        <button class="button" data-name="Schokolade" data-price="3.50">Schokolade ‚Ç¨3,50</button>
        <button class="button" data-name="Bier" data-price="4.00">Bier ‚Ç¨4,00</button>
        <button class="button" data-name="Cola, Limo, Saft, Tee" data-price="3.00">Cola,&nbsp;Limo, Saft,&nbsp;Tee ‚Ç¨3,00</button>
        <button class="button" data-name="Wasser 0,5l" data-price="2.00">Wasser 0,5l ‚Ç¨2,00</button>
        <button class="button" data-name="Magdalener Morit" data-price="4.00">Magdalener Morit ‚Ç¨4,00</button>
        <button class="button" data-name="Lagrein Eyrl" data-price="4.50">Lagrein Eyrl ‚Ç¨4,50</button>
        <button class="button" data-name="Kerner Radoy" data-price="4.50">Kerner Radoy ‚Ç¨4,50</button>
        <button class="button" data-name="Cuv√©e Laven" data-price="4.50">Cuv√©e Laven ‚Ç¨4,50</button>
        <button class="button" data-name="Met" data-price="3.50">Met ‚Ç¨3,50</button>
        <button class="button" data-name="Prosecco" data-price="4.00">Prosecco ‚Ç¨4,00</button>
        <button class="button" data-name="Bombardino" data-price="4.50">Bombardino ‚Ç¨4,50</button>
      </div>

      <h2>Kaution</h2>
      <div class="menu-section">
        <button class="button" data-name="Kaution" data-price="4.00">Kaution ‚Ç¨4.00</button>
        <button class="button" data-name="Retour" data-price="-4.00">Retour ‚Ç¨-4.00</button>
      </div>

      <h2>Speisen</h2>
      <div class="menu-section">
        <button class="button" data-name="Laugenbrezen" data-price="3.00">Laugenbrezen ‚Ç¨3.00</button>
        <button class="button" data-name="belegte Br√∂tchen" data-price="4.00">belegte Br√∂tchen ‚Ç¨4.00</button>
        <button class="button" data-name="Gulaschsuppe" data-price="8.00">Gulaschsuppe ‚Ç¨8.00</button>
        <button class="button" data-name="Gerstsuppe" data-price="6.00">Gerstsuppe ‚Ç¨6.00</button>
        <button class="button" data-name="Schlutzkrapfen" data-price="10.00">Schlutz&#8203;krapfen ‚Ç¨10.00</button>
        <button class="button" data-name="Nudel Wildragout" data-price="10.00">Nudel Wildragout ‚Ç¨10.00</button>
        <button class="button" data-name="Kn√∂del mit Pilzen" data-price="10.00">Kn√∂del mit Pilzen ‚Ç¨10.00</button>
        <button class="button" data-name="Polenta" data-price="10.00">Polenta ‚Ç¨10.00</button>
        <button class="button" data-name="Vinschgerle" data-price="7.00">Vinschgerle ‚Ç¨7.00</button>
        <button class="button" data-name="Baguette" data-price="7.00">Baguette ‚Ç¨7.00</button>
        <button class="button" data-name="Frankfurter" data-price="6.00">Frankfurter ‚Ç¨6.00</button>
        <button class="button" data-name="Apfelk√ºchlein" data-price="5.00">Apfelk√ºchlein ‚Ç¨5.00</button>
        <button class="button" data-name="Apfelstrudel" data-price="5.00">Apfelstrudel ‚Ç¨5.00</button>
        <button class="button" data-name="Hefekrapfen" data-price="3.50">Hefe&#8203;krapfen ‚Ç¨3.50</button>
      </div>
      
      <h2>Extra</h2>
      <div class="menu-section">
        <input type="text" id="customPriceInput" placeholder="Preis eingeben" style="margin-right: 10px; flex-grow: 1;">
        <button id="customPriceButton" >Hinzuf√ºgen</button>
      </div>

    </div>

    <div class="total">
      <div class="fixed-total">
        <button id="resetButtonTop" class="reset-button">Zur√ºcksetzen</button>
        <div id="totalWrapper" class="total-wrapper">
          <h3>Gesamt:</h3>
          <span id="totalPrice">‚Ç¨0.00</span>
        </div>
      </div>
      <div class="scrollable-items" id="selectedItems"></div>
      <button id="resetButtonBottom" class="reset-button">Zur√ºcksetzen</button>
    </div>

  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>

  <script>
    let selectedItems = {};
    let totalPrice = 0;
    let extrasCounter = 0;

    document.querySelectorAll('.button').forEach(button => {
      button.addEventListener('click', function () {
        const itemName = this.getAttribute('data-name');
        const itemPrice = parseFloat(this.getAttribute('data-price'));

        totalPrice += itemPrice;

        if (selectedItems[itemName]) {
          selectedItems[itemName].count++;
        } else {
          selectedItems[itemName] = { count: 1, itemPrice: itemPrice };
        }

        updateUI();
      });
    });

    function updateUI() {
      const selectedItemsDiv = document.getElementById('selectedItems');
      const totalPriceDiv = document.getElementById('totalPrice');

      selectedItemsDiv.innerHTML = '';

      for (const [itemName, itemInfo] of Object.entries(selectedItems)) {
        const div = document.createElement('div');
        div.className = 'selected-item';
        div.innerHTML = `${itemName} x${itemInfo.count} <span>-</span>`;
        div.addEventListener('click', function () {
          itemInfo.count--;
          totalPrice -= itemInfo.itemPrice;

          if (itemInfo.count === 0) {
            delete selectedItems[itemName];
          }

          updateUI();
        });
        selectedItemsDiv.appendChild(div);
      }

      totalPriceDiv.textContent = `‚Ç¨${totalPrice.toFixed(2)}`;
    }

    document.querySelectorAll('.reset-button').forEach(button => {
      button.addEventListener('click', function () {
        selectedItems = {};
        totalPrice = 0;
        extrasCounter = 0; // Reset the Extras counter
        updateUI();
      });
    });


    if ('addEventListener' in document) {
      document.addEventListener('DOMContentLoaded', function () {
        FastClick.attach(document.body);
      }, false);
    }

    document.getElementById('customPriceButton').addEventListener('click', function () {
      const customPriceInput = document.getElementById('customPriceInput');
      const inputValue = customPriceInput.value.trim();

      if (inputValue === "ULZGPLTISMRALCGGGULRTW") {
        document.getElementById('secret_module').style.display = 'flex';
        customPriceInput.value = ''; // Clear the input field
        return; // Skip adding the price since this is an Easter egg
      }

      if (inputValue.toLowerCase() === "marco and ilaria are in love") {
        document.getElementById('easterEggModal').style.display = 'flex'; // Change this line
        customPriceInput.value = ''; // Clear the input field
        return; // Skip adding the price since this is an Easter egg
      }

      if (inputValue === "ULZGPLTISMRALCGGULRTW") {
        document.getElementById('easterEggModal').style.display = 'flex'; // Change this line
        customPriceInput.value = ''; // Clear the input field
        return; // Skip adding the price since this is an Easter egg
      }

      const itemPrice = parseFloat(inputValue);

      // Check if the itemPrice is a number and not zero
      if (isNaN(itemPrice) || itemPrice === 0) {
        alert('Bitte geben Sie einen g√ºltigen Preis ein, der nicht null ist.');
        return;
      }

      // Increment the Extras counter
      extrasCounter++;
      const itemName = `Extras ${extrasCounter}`;

      totalPrice += itemPrice;
      selectedItems[itemName] = { count: 1, itemPrice: itemPrice };

      customPriceInput.value = ''; // Clear the input field
      updateUI();
    });

  </script>
  <div id="secret_module" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.75); justify-content: center; align-items: center; z-index: 1000;">
    <div style="padding: 20px; background: #2b2b2b; border-radius: 5px; text-align: center; color: #c0c0c0;">
      <p style="color: rgb(47, 0, 255); font-weight: bold;">
        üåå This item, priceless, beyond compare,<br>
        awaits someone with flair, üßô‚Äç‚ôÇÔ∏è<br>
        Reserved for one, a special soul,<br>
        who can decipher the whole. üîç<br>
        A cipher of Vigen√®re's own, üìú<br>
        where her name is not alone.<br>
        In this passphrase, entwined and bold,<br>
        lies a secret to be told. üóùÔ∏è<br>
        <br>
        But heed this warning, take great care,<br>
        a flaw within does lay quite bare. ‚ö†Ô∏è<br>
        A letter extra, slipped in by chance,<br>
        adds to this cryptic dance. üíÉ<br>
        Once you solve, with wits so clear,<br>
        bring the answer back right here. üß†<br>
        And in that moment, true and rare,<br>
        watch as magic fills the air. ‚ú®
      </p>
      <button style="background-color: #4c4c4c; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;" onclick="document.getElementById('secret_module').style.display='none'">Close</button>
    </div>
  </div>


  <div id="easterEggModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); justify-content: center; align-items: center; z-index: 1000;">
    <div style="padding: 20px; background: white; border-radius: 5px; text-align: center;">
      <!-- <p style="color: red; font-weight: bold;">Ich wei√ü! Marco ist Hals √ºber Kopf verliebt.</p>
      <p style="color: red; font-weight: bold;">Heute gibt es deshalb f√ºr Ilaria </p>
      <p style="color: red; font-weight: bold;">unbegrenzt Liebespunsch aufs Haus!</p>
      <p style="font-size: 8rem;">‚ù§Ô∏è</p>
      <p style="color: red; font-weight: bold;">Lasst uns ansto√üen: Zum Wohl auf</p>
      <p style="color: red; font-weight: bold;">die Liebe von Marco und Ilaria!</p>
      <p style="color: red; font-weight: bold;">M√∂ge sie ewig bl√ºhen und gedeihen!</p> -->
      <p style="color: red; font-weight: bold;">I woas! Oh, hearmor mol zua!</p>
      <p style="color: red; font-weight: bold;">Marco isch verliab, jo, gonz und guat.</p>
      <p style="color: red; font-weight: bold;">Hals √ºber Kopf, so stark und klor,</p>
      <p style="color: red; font-weight: bold;">f√ºr Ilaria, die fesche, isch‚Äôs heit wohr.</p>
      <p style="color: red; font-weight: bold;">Drum gibts hait, oh wella Braus,</p>
      <p style="color: red; font-weight: bold;">f√ºr sie en Liebespunsch, gonz umschunst im Haus!</p>      
      <p style="font-size: 8rem;">‚ù§Ô∏è</p>
      <p style="color: red; font-weight: bold;">Zum Wohl af die Liebe</p>
      <p style="color: red; font-weight: bold;">von Marco und Ilaria!</p>
      <p style="color: red; font-weight: bold;">Auf dass sie ewig bliant und gedeiht.</p>
      <button onclick="document.getElementById('easterEggModal').style.display='none'">Schlie√üen</button>
    </div>
  </div>
</body>

</html>